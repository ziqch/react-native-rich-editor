export default "<!doctype html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1\"/><meta http-equiv=\"Content-Security-Policy\" content=\"default-src * 'unsafe-inline' 'unsafe-eval';img-src * data: blob:\"/><title>ReactNativeRichEditor</title></head><body><script defer=\"defer\">!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)(\"object\"==typeof exports?exports:t)[i]=n[i]}}(self,(()=>(()=>{var t={857:(t,e,n)=>{var i=n(7772).Symbol;t.exports=i},9432:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},343:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},217:t=>{t.exports=function(t){return t.split(\"\")}},1359:t=>{t.exports=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},3366:(t,e,n)=>{var i=n(857),r=n(2107),o=n(7157),s=\"[object Null]\",a=\"[object Undefined]\",u=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?r(t):o(t)}},7832:(t,e,n)=>{var i=n(1359),r=n(2195),o=n(6024);t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},4190:t=>{t.exports=function(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}},2195:t=>{t.exports=function(t){return t!=t}},6840:(t,e,n)=>{var i=n(1049),r=n(7394),o=n(9259),s=n(7035),a=/^\\[object .+?Constructor\\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=RegExp(\"^\"+c.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?h:a).test(s(t))}},5169:(t,e,n)=>{var i=n(343),r=n(7832),o=n(4190),s=n(7826),a=n(1522),u=Array.prototype.splice;t.exports=function(t,e,n,l){var c=l?o:r,f=-1,h=e.length,d=t;for(t===e&&(e=a(e)),n&&(d=i(t,s(n)));++f<h;)for(var p=0,v=e[f],m=n?n(v):v;(p=c(d,m,p,l))>-1;)d!==t&&u.call(d,p,1),u.call(t,p,1);return t}},6060:(t,e,n)=>{var i=n(3059),r=n(3114),o=n(5251);t.exports=function(t,e){return o(r(t,e,i),t+\"\")}},6532:(t,e,n)=>{var i=n(6874),r=n(3043),o=n(3059),s=r?function(t,e){return r(t,\"toString\",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=s},9872:t=>{t.exports=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}},1054:(t,e,n)=>{var i=n(857),r=n(343),o=n(6152),s=n(4795),a=1/0,u=i?i.prototype:void 0,l=u?u.toString:void 0;t.exports=function t(e){if(\"string\"==typeof e)return e;if(o(e))return r(e,t)+\"\";if(s(e))return l?l.call(e):\"\";var n=e+\"\";return\"0\"==n&&1/e==-a?\"-0\":n}},7826:t=>{t.exports=function(t){return function(e){return t(e)}}},3895:(t,e,n)=>{var i=n(9872);t.exports=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}},768:(t,e,n)=>{var i=n(7832);t.exports=function(t,e){for(var n=t.length;n--&&i(e,t[n],0)>-1;);return n}},1522:t=>{t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},4019:(t,e,n)=>{var i=n(7772)[\"__core-js_shared__\"];t.exports=i},3043:(t,e,n)=>{var i=n(8761),r=function(){try{var t=i(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();t.exports=r},1242:(t,e,n)=>{var i=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},8761:(t,e,n)=>{var i=n(6840),r=n(8109);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},2107:(t,e,n)=>{var i=n(857),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},8109:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},3880:t=>{var e=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\");t.exports=function(t){return e.test(t)}},7394:(t,e,n)=>{var i,r=n(4019),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+i:\"\";t.exports=function(t){return!!o&&o in t}},7157:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},3114:(t,e,n)=>{var i=n(9432),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=r(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=n(u),i(t,this,l)}}},7772:(t,e,n)=>{var i=n(1242),r=\"object\"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function(\"return this\")();t.exports=o},5251:(t,e,n)=>{var i=n(6532),r=n(7787)(i);t.exports=r},7787:t=>{var e=800,n=16,i=Date.now;t.exports=function(t){var r=0,o=0;return function(){var s=i(),a=n-(s-o);if(o=s,a>0){if(++r>=e)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},6024:t=>{t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},8435:(t,e,n)=>{var i=n(217),r=n(3880),o=n(3344);t.exports=function(t){return r(t)?o(t):i(t)}},7035:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}},2153:t=>{var e=/\\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},3344:t=>{var e=\"\\\\ud800-\\\\udfff\",n=\"[\"+e+\"]\",i=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",r=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",o=\"[^\"+e+\"]\",s=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",a=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",u=\"(?:\"+i+\"|\"+r+\")\"+\"?\",l=\"[\\\\ufe0e\\\\ufe0f]?\",c=l+u+(\"(?:\\\\u200d(?:\"+[o,s,a].join(\"|\")+\")\"+l+u+\")*\"),f=\"(?:\"+[o+i+\"?\",i,s,a,n].join(\"|\")+\")\",h=RegExp(r+\"(?=\"+r+\")|\"+f+c,\"g\");t.exports=function(t){return t.match(h)||[]}},6874:t=>{t.exports=function(t){return function(){return t}}},3059:t=>{t.exports=function(t){return t}},6152:t=>{var e=Array.isArray;t.exports=e},1049:(t,e,n)=>{var i=n(3366),r=n(9259),o=\"[object AsyncFunction]\",s=\"[object Function]\",a=\"[object GeneratorFunction]\",u=\"[object Proxy]\";t.exports=function(t){if(!r(t))return!1;var e=i(t);return e==s||e==a||e==o||e==u}},9259:t=>{t.exports=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}},5125:t=>{t.exports=function(t){return null!=t&&\"object\"==typeof t}},5505:(t,e,n)=>{var i=n(3366),r=n(6152),o=n(5125),s=\"[object String]\";t.exports=function(t){return\"string\"==typeof t||!r(t)&&o(t)&&i(t)==s}},4795:(t,e,n)=>{var i=n(3366),r=n(5125),o=\"[object Symbol]\";t.exports=function(t){return\"symbol\"==typeof t||r(t)&&i(t)==o}},2284:(t,e,n)=>{var i=n(6060)(n(8911));t.exports=i},8911:(t,e,n)=>{var i=n(5169);t.exports=function(t,e){return t&&t.length&&e&&e.length?i(t,e):t}},6188:(t,e,n)=>{var i=n(1054);t.exports=function(t){return null==t?\"\":i(t)}},1573:(t,e,n)=>{var i=n(1054),r=n(3895),o=n(768),s=n(8435),a=n(6188),u=n(2153);t.exports=function(t,e,n){if((t=a(t))&&(n||void 0===e))return t.slice(0,u(t)+1);if(!t||!(e=i(e)))return t;var l=s(t),c=o(l,s(e))+1;return r(l,0,c).join(\"\")}},903:(t,e,n)=>{t.exports={deltaToMarkdown:n(509)}},335:(t,e,n)=>{const i=n(3224),{encodeLink:r}=n(4461);t.exports={embed:{image:function(t){this.append(\"![](\"+r(t)+\")\")},thematic_break:function(){this.open=\"\\n---\\n\"+this.open}},inline:{italic:function(){return[\"_\",\"_\"]},bold:function(){return[\"**\",\"**\"]},link:function(t){return[\"[\",\"](\"+t+\")\"]}},block:{header:function({header:t}){this.open=\"#\".repeat(t)+\" \"+this.open},blockquote:function(){this.open=\"> \"+this.open},list:{group:function(){return new i([\"\",\"\\n\"])},line:function(t,e){if(\"bullet\"===t.list)this.open=\"- \"+this.open;else if(\"checked\"===t.list)this.open=\"- [x] \"+this.open;else if(\"unchecked\"===t.list)this.open=\"- [ ] \"+this.open;else if(\"ordered\"===t.list){e.count=e.count||0;var n=++e.count;this.open=n+\". \"+this.open}}}}}},509:(t,e,n)=>{const i=n(9259),r=n(6152),o=n(1573),s=n(335),a=n(3224);function u(t,e){for(var n in t)if(Object.keys(e.block).includes(n))return!0;return!1}t.exports=function(t,e=s){return o(function(t,e){var n,o,s,l,c,f=new a;function h(){s=o=new a([\"\",\"\\n\"]),f.append(o),l={}}h();for(var d=0;d<t.length;d++){var p=t[d];if(i(p.insert))for(var v in p.insert)e.embed[v]&&(w(p.attributes),e.embed[v].call(s,p.insert[v],p.attributes));else{var m=p.insert.split(\"\\n\");if(u(p.attributes,e)){for(var y=1;y<m.length;y++)for(var g in p.attributes)if(e.block[g]){var b=e.block[g];\"object\"==typeof b&&(n&&n.type!==g&&(n=null),!n&&b.group&&(n={el:b.group(),type:g,value:p.attributes[v],distance:0},f.append(n.el)),n&&(n.el.append(o),n.distance=0),b=b.line),b.call(o,p.attributes,n),h();break}c=!0}else{for(var x=0;x<m.length;x++)(x>0||c)&&n&&++n.distance>=2&&(n=null),w(p.attributes,t[d+1]&&t[d+1].attributes),s.append(m[x]),x<m.length-1&&h();c=!1}}}return f;function w(t,n){var i=[],o=[];t=t||{};for(var u=s,c={};u._format;){if(c[u._format]=!0,!t[u._format]){for(var f in c)delete l[f];s=u.parent()}u=u.parent()}for(var h in t)if(e.inline[h]){if(l[h]&&l[h]===t[h])continue;n&&t[h]===n[h]?i.push(h):o.push(h),l[h]=t[h]}function d(n){var i=e.inline[n].call(null,t[n]);r(i)&&(i=new a(i)),i._format=n,s.append(i),s=i}i.forEach(d),o.forEach(d)}}(t,e).render())+\"\\n\"}},3224:(t,e,n)=>{const i=n(6152),r=n(5505),o=n(2284);var s=0;class a{constructor(t){this.id=++s,i(t)?(this.open=t[0],this.close=t[1]):r(t)&&(this.text=t),this.children=[]}append(t){t instanceof a||(t=new a(t)),t._parent&&o(t._parent.children,t),t._parent=this,this.children=this.children.concat(t)}render(){var t=\"\";this.open&&(t+=this.open),this.text&&(t+=this.text);for(var e=0;e<this.children.length;e++)t+=this.children[e].render();return this.close&&(t+=this.close),t}parent(){return this._parent}}t.exports=a},4461:t=>{t.exports={encodeLink:t=>encodeURI(t).replace(/\\(/i,\"%28\").replace(/\\)/i,\"%29\").replace(/(\\?|&)response-content-disposition=attachment.*$/,\"\")}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),n.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return(()=>{\"use strict\";function t(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s.apply(this,arguments)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function c(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return l(t)}(this,n)}}function f(){return f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},f.apply(this,arguments)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}n.r(i);var p={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function v(t,e,n){var i=t;return Object.keys(e).forEach((function(t){n.indexOf(t)>-1?i.dataset[t]=e[t]:delete i.dataset[t]})),i}var m=function(){function e(n,i){var h=window.Quill,v=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,e);var n=c(i);function i(e,r){var s;return t(this,i),o(l(s=n.call(this,e,r)),\"hoverHandler\",void 0),o(l(s),\"hoverHandler\",void 0),s.clickHandler=null,s.hoverHandler=null,s.mounted=!1,s}return r(i,[{key:\"attach\",value:function(){f(a(i.prototype),\"attach\",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener(\"click\",this.clickHandler,!1),this.domNode.addEventListener(\"mouseenter\",this.hoverHandler,!1))}},{key:\"detach\",value:function(){f(a(i.prototype),\"detach\",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener(\"click\",this.clickHandler),this.clickHandler=null)}},{key:\"getClickHandler\",value:function(){var t=this;return function(e){var n=t.buildEvent(\"mention-clicked\",e);window.dispatchEvent(n),e.preventDefault()}}},{key:\"getHoverHandler\",value:function(){var t=this;return function(e){var n=t.buildEvent(\"mention-hovered\",e);window.dispatchEvent(n),e.preventDefault()}}},{key:\"buildEvent\",value:function(t,e){var n=new Event(t,{bubbles:!0,cancelable:!0});return n.value=s({},this.domNode.dataset),n.event=e,n}}],[{key:\"create\",value:function(t){var e=f(a(i),\"create\",this).call(this),n=document.createElement(\"span\");return n.className=\"ql-mention-denotation-char\",n.innerHTML=t.denotationChar,e.appendChild(n),e.innerHTML+=t.value,i.setDataValues(e,t)}},{key:\"setDataValues\",value:function(t,e){var n=t;return Object.keys(e).forEach((function(t){n.dataset[t]=e[t]})),n}},{key:\"value\",value:function(t){return t.dataset}}]),i}(h.import(\"blots/embed\"));v.blotName=\"mention\",v.tagName=\"span\",v.className=\"mention\",h.register(v);var m=this;t(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.lastTextSourceCall=null,this.quill=n,this.options={source:null,renderItem:function(t){return\"\".concat(t.value)},renderLoading:function(){return null},onSelect:function(t,e){e(t)},mentionDenotationChars:[\"@\"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,fixMentionsToQuill:!1,positioningStrategy:\"normal\",defaultMenuOrientation:\"bottom\",blotName:\"mention\",dataAttributes:[\"id\",\"value\",\"denotationChar\",\"link\",\"target\",\"disabled\"],linkTarget:\"_blank\",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:\"ql-mention-list-item\",mentionContainerClass:\"ql-mention-list-container\",mentionListClass:\"ql-mention-list\",spaceAfterInsert:!0,selectKeys:[p.ENTER]},s(this.options,i,{dataAttributes:Array.isArray(i.dataAttributes)?this.options.dataAttributes.concat(i.dataAttributes):this.options.dataAttributes}),this.mentionContainer=document.createElement(\"div\"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:\"\",this.mentionContainer.style.cssText=\"display: none; position: absolute;\",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width=\"auto\"),this.mentionList=document.createElement(\"ul\"),this.mentionList.id=\"quill-mention-list\",n.root.setAttribute(\"aria-owns\",\"quill-mention-list\"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:\"\",this.mentionContainer.appendChild(this.mentionList),n.on(\"text-change\",this.onTextChange.bind(this)),n.on(\"selection-change\",this.onSelectionChange.bind(this)),n.container.addEventListener(\"paste\",(function(){setTimeout((function(){var t=n.getSelection();m.onSelectionChange(t)}))})),n.keyboard.addBinding({key:p.TAB},this.selectHandler.bind(this)),n.keyboard.bindings[p.TAB].unshift(n.keyboard.bindings[p.TAB].pop());var y,g=d(this.options.selectKeys);try{for(g.s();!(y=g.n()).done;){var b=y.value;n.keyboard.addBinding({key:b},this.selectHandler.bind(this))}}catch(t){g.e(t)}finally{g.f()}n.keyboard.bindings[p.ENTER].unshift(n.keyboard.bindings[p.ENTER].pop()),n.keyboard.addBinding({key:p.ESCAPE},this.escapeHandler.bind(this)),n.keyboard.addBinding({key:p.UP},this.upHandler.bind(this)),n.keyboard.addBinding({key:p.DOWN},this.downHandler.bind(this))}return r(e,[{key:\"selectHandler\",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||!this.selectItem()}},{key:\"escapeHandler\",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:\"upHandler\",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:\"downHandler\",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:\"showMentionList\",value:function(){\"fixed\"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility=\"hidden\",this.mentionContainer.style.display=\"\",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:\"hideMentionList\",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display=\"none\",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute(\"aria-activedescendant\")}},{key:\"highlightItem\",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=0;e<this.mentionList.childNodes.length;e+=1)this.mentionList.childNodes[e].classList.remove(\"selected\");if(-1!==this.itemIndex&&\"true\"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add(\"selected\"),this.quill.root.setAttribute(\"aria-activedescendant\",this.mentionList.childNodes[this.itemIndex].id),t)){var n=this.mentionList.childNodes[this.itemIndex].offsetHeight,i=this.mentionList.childNodes[this.itemIndex].offsetTop,r=this.mentionContainer.scrollTop,o=r+this.mentionContainer.offsetHeight;i<r?this.mentionContainer.scrollTop=i:i>o-n&&(this.mentionContainer.scrollTop+=i-o+n)}}},{key:\"getItemData\",value:function(){var t=this.mentionList.childNodes[this.itemIndex].dataset.link,e=void 0!==t,n=this.mentionList.childNodes[this.itemIndex].dataset.target;return e&&(this.mentionList.childNodes[this.itemIndex].dataset.value='<a href=\"'.concat(t,'\" target=').concat(n||this.options.linkTarget,\">\").concat(this.mentionList.childNodes[this.itemIndex].dataset.value)),this.mentionList.childNodes[this.itemIndex].dataset}},{key:\"onContainerMouseMove\",value:function(){this.suspendMouseEnter=!1}},{key:\"selectItem\",value:function(){var t=this;if(-1===this.itemIndex)return!1;var e=this.getItemData();return e.disabled?(this.hideMentionList(),!1):(this.options.onSelect(e,(function(e){t.insertItem(e)})),this.hideMentionList(),!0)}},{key:\"insertItem\",value:function(t,e){var n,i=t;null!==i&&(this.options.showDenotationChar||(i.denotationChar=\"\"),e?n=this.cursorPos:(n=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Quill.sources.USER)),this.quill.insertEmbed(n,this.options.blotName,i,Quill.sources.USER),this.options.spaceAfterInsert?(this.quill.insertText(n+1,\" \",Quill.sources.USER),this.quill.setSelection(n+2,Quill.sources.USER)):this.quill.setSelection(n+1,Quill.sources.USER),this.hideMentionList())}},{key:\"onItemMouseEnter\",value:function(t){if(!this.suspendMouseEnter){var e=Number(t.target.dataset.index);Number.isNaN(e)||e===this.itemIndex||(this.itemIndex=e,this.highlightItem(!1))}}},{key:\"onDisabledItemMouseEnter\",value:function(t){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:\"onItemClick\",value:function(t){0===t.button&&(t.preventDefault(),t.stopImmediatePropagation(),this.itemIndex=t.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:\"onItemMouseDown\",value:function(t){t.preventDefault(),t.stopImmediatePropagation()}},{key:\"renderLoading\",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName(\"ql-mention-loading\").length>0)this.showMentionList();else{this.mentionList.innerHTML=\"\";var t=document.createElement(\"div\");t.className=\"ql-mention-loading\",t.innerHTML=this.options.renderLoading(),this.mentionContainer.append(t),this.showMentionList()}}},{key:\"removeLoading\",value:function(){var t=this.mentionContainer.getElementsByClassName(\"ql-mention-loading\");t.length>0&&t[0].remove()}},{key:\"renderList\",value:function(t,e,n){if(e&&e.length>0){this.removeLoading(),this.values=e,this.mentionList.innerHTML=\"\";for(var i=-1,r=0;r<e.length;r+=1){var o=document.createElement(\"li\");o.id=\"quill-mention-item-\"+r,o.className=this.options.listItemClass?this.options.listItemClass:\"\",e[r].disabled?(o.className+=\" disabled\",o.setAttribute(\"aria-hidden\",\"true\")):-1===i&&(i=r),o.dataset.index=r,o.innerHTML=this.options.renderItem(e[r],n),e[r].disabled?o.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(o.onmouseenter=this.onItemMouseEnter.bind(this),o.onmouseup=this.onItemClick.bind(this),o.onmousedown=this.onItemMouseDown.bind(this)),o.dataset.denotationChar=t,this.options.disableRenderList||this.mentionList.appendChild(v(o,e[r],this.options.dataAttributes))}this.itemIndex=i,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:\"nextItem\",value:function(){var t,e=0;do{e++,t=(this.itemIndex+e)%this.values.length;var n=\"true\"===this.mentionList.childNodes[t].dataset.disabled;if(e===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:\"prevItem\",value:function(){var t,e=0;do{e++,t=(this.itemIndex+this.values.length-e)%this.values.length;var n=\"true\"===this.mentionList.childNodes[t].dataset.disabled;if(e===this.values.length+1){t=-1;break}}while(n);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:\"containerBottomIsNotVisible\",value:function(t,e){return t+this.mentionContainer.offsetHeight+e.top>window.pageYOffset+window.innerHeight}},{key:\"containerRightIsNotVisible\",value:function(t,e){return!this.options.fixMentionsToQuill&&t+this.mentionContainer.offsetWidth+e.left>window.pageXOffset+document.documentElement.clientWidth}},{key:\"setIsOpen\",value:function(t){this.isOpen!==t&&(t?this.options.onOpen():this.options.onClose(),this.isOpen=t)}},{key:\"setMentionContainerPosition\",value:function(){\"fixed\"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:\"setMentionContainerPosition_Normal\",value:function(){var t=this,e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i=this.mentionContainer.offsetHeight,r=this.options.offsetTop,o=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right=\"\".concat(0,\"px\")}else o+=n.left;if(this.containerRightIsNotVisible(o,e)){var s=this.mentionContainer.offsetWidth+this.options.offsetLeft;o=e.width-s}if(\"top\"===this.options.defaultMenuOrientation){if((r=this.options.fixMentionsToQuill?-1*(i+this.options.offsetTop):n.top-(i+this.options.offsetTop))+e.top<=0){var a=this.options.offsetTop;this.options.fixMentionsToQuill?a+=e.height:a+=n.bottom,r=a}}else if(this.options.fixMentionsToQuill?r+=e.height:r+=n.bottom,this.containerBottomIsNotVisible(r,e)){var u=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(u+=n.top),r=u-i}r>=0?this.options.mentionContainerClass.split(\" \").forEach((function(e){t.mentionContainer.classList.add(\"\".concat(e,\"-bottom\")),t.mentionContainer.classList.remove(\"\".concat(e,\"-top\"))})):this.options.mentionContainerClass.split(\" \").forEach((function(e){t.mentionContainer.classList.add(\"\".concat(e,\"-top\")),t.mentionContainer.classList.remove(\"\".concat(e,\"-bottom\"))})),this.mentionContainer.style.top=\"\".concat(r,\"px\"),this.mentionContainer.style.left=\"\".concat(o,\"px\"),this.mentionContainer.style.visibility=\"visible\"}},{key:\"setMentionContainerPosition_Fixed\",value:function(){var t=this;this.mentionContainer.style.position=\"fixed\",this.mentionContainer.style.height=null;var e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i={left:e.left+n.left,top:e.top+n.top,width:0,height:n.height},r=this.options.fixMentionsToQuill?e:i,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var a=r.right;this.mentionContainer.style.right=\"\".concat(a,\"px\")}else(s+=r.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(s-=s+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var u=r.top,l=document.documentElement.clientHeight-(r.top+r.height),c=this.mentionContainer.offsetHeight<=l,f=this.mentionContainer.offsetHeight<=u;\"bottom\"===(\"top\"===this.options.defaultMenuOrientation&&f?\"top\":\"bottom\"===this.options.defaultMenuOrientation&&c||l>u?\"bottom\":\"top\")?(o=r.top+r.height,c||(this.mentionContainer.style.height=l-3+\"px\"),this.options.mentionContainerClass.split(\" \").forEach((function(e){t.mentionContainer.classList.add(\"\".concat(e,\"-bottom\")),t.mentionContainer.classList.remove(\"\".concat(e,\"-top\"))}))):(o=r.top-this.mentionContainer.offsetHeight,f||(this.mentionContainer.style.height=u-3+\"px\",o=3),this.options.mentionContainerClass.split(\" \").forEach((function(e){t.mentionContainer.classList.add(\"\".concat(e,\"-top\")),t.mentionContainer.classList.remove(\"\".concat(e,\"-bottom\"))}))),this.mentionContainer.style.top=\"\".concat(o,\"px\"),this.mentionContainer.style.left=\"\".concat(s,\"px\"),this.mentionContainer.style.visibility=\"visible\"}},{key:\"getTextBeforeCursor\",value:function(){var t=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(t,this.cursorPos-t)}},{key:\"onSomethingChange\",value:function(){var t=this,e=this.quill.getSelection();if(null!=e){this.cursorPos=e.index;var n,i=this.getTextBeforeCursor(),r=(n=i,this.options.mentionDenotationChars.reduce((function(t,e){var i=n.lastIndexOf(e);return i>t.mentionCharIndex?{mentionChar:e,mentionCharIndex:i}:{mentionChar:t.mentionChar,mentionCharIndex:t.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),o=r.mentionChar,s=r.mentionCharIndex;if(function(t,e,n){return t>-1&&!(n&&0!==t&&!e[t-1].match(/\\s/g))}(s,i,this.options.isolateCharacter)){var a=this.cursorPos-(i.length-s);this.mentionCharPos=a;var u=i.substring(s+o.length);if(u.length>=this.options.minChars&&function(t,e){return e.test(t)}(u,this.getAllowedCharsRegex(o))){if(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.lastTextSourceCall===u)return this.hideMentionList(),this.existingSourceExecutionToken=null,void(this.lastTextSourceCall=null);this.renderLoading();var l={abandoned:!1};this.existingSourceExecutionToken=l,this.options.source(u,(function(e,n){l.abandoned||(t.lastTextSourceCall=u,t.existingSourceExecutionToken=null,t.renderList(o,e,n))}),o)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:\"getAllowedCharsRegex\",value:function(t){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(t)}},{key:\"onTextChange\",value:function(t,e,n){\"user\"===n&&this.onSomethingChange()}},{key:\"onSelectionChange\",value:function(t){t&&0===t.length?this.onSomethingChange():this.hideMentionList()}},{key:\"openMenu\",value:function(t){var e=this.quill.getSelection(!0);this.quill.insertText(e.index,t),this.quill.blur(),this.quill.focus()}}]),e}(),y=n(903);function g(t){return g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},g(t)}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,w(i.key),i)}}function x(t,e,n){return(e=w(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){var e=function(t,e){if(\"object\"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==g(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===g(e)?e:String(e)}var k,C=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),x(this,\"token\",void 0),x(this,\"resolver\",void 0),this.token=e,this.resolver=n}var e,n,i;return e=t,n=[{key:\"resolve\",value:function(){if(this.resolver){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.resolver.apply(this,e)}throw Error(\"Unregistered Resolver: \".concat(this.token))}}],n&&b(e.prototype,n),i&&b(e,i),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function S(t){return S=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},S(t)}function L(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */L=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r=\"function\"==typeof Symbol?Symbol:{},o=r.iterator||\"@@iterator\",s=r.asyncIterator||\"@@asyncIterator\",a=r.toStringTag||\"@@toStringTag\";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new E(r||[]);return i(s,\"_invoke\",{value:w(t,n,a)}),s}function c(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,o,s,a){var u=c(t[i],t,o);if(\"throw\"!==u.type){var l=u.arg,f=l.value;return f&&\"object\"==S(f)&&n.call(f,\"__await\")?e.resolve(f.__await).then((function(t){r(\"next\",t,s,a)}),(function(t){r(\"throw\",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r(\"throw\",t,s,a)}))}a(u.arg)}var o;i(this,\"_invoke\",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function w(t,e,n){var i=\"suspendedStart\";return function(r,o){if(\"executing\"===i)throw new Error(\"Generator is already running\");if(\"completed\"===i){if(\"throw\"===r)throw o;return P()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===f)continue;return a}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===i)throw i=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);i=\"executing\";var u=c(t,e,n);if(\"normal\"===u.type){if(i=n.done?\"completed\":\"suspendedYield\",u.arg===f)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(i=\"completed\",n.method=\"throw\",n.arg=u.arg)}}}function k(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,\"throw\"===n&&t.iterator.return&&(e.method=\"return\",e.arg=void 0,k(t,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),f;var r=c(i,t.iterator,e.arg);if(\"throw\"===r.type)return e.method=\"throw\",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,f):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(C,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=p,i(g,\"constructor\",{value:p,configurable:!0}),i(p,\"constructor\",{value:d,configurable:!0}),d.displayName=u(p,a,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===d||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,\"GeneratorFunction\")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new x(l(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),u(g,a,\"Generator\"),u(g,o,(function(){return this})),u(g,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type=\"throw\",s.arg=t,e.next=n,i&&(e.method=\"next\",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if(\"root\"===o.tryLoc)return i(\"end\");if(o.tryLoc<=this.prev){var a=n.call(o,\"catchLoc\"),u=n.call(o,\"finallyLoc\");if(a&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,\"finallyLoc\")&&this.prev<r.finallyLoc){var o=r;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if(\"throw\"===i.type){var r=i.arg;O(n)}return r}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),f}},t}function O(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function T(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}function P(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){T(o,i,r,s,a,\"next\",t)}function a(t){T(o,i,r,s,a,\"throw\",t)}s(void 0)}))}}function j(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,N(i.key),i)}}function A(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function q(t,e,n){return(e=N(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t){var e=function(t,e){if(\"object\"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==S(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===S(e)?e:String(e)}!function(t){t[t.CALL=0]=\"CALL\",t[t.CALLBACK=1]=\"CALLBACK\",t[t.Promise=2]=\"Promise\"}(k||(k={}));var I=function(){},M=function(){for(var t=[],e=\"0123456789abcdef\",n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]=\"4\",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]=\"-\",t.join(\"\")},R=function(){function t(){j(this,t),q(this,\"queue\",[]),q(this,\"callbackPool\",new Map),q(this,\"sender\",I)}var e,n,i,r;return A(t,[{key:\"setSender\",value:function(t){this.sender=t}},{key:\"isConnected\",value:function(){return this.sender!==I}},{key:\"createPromise\",value:function(){var t=this,e=M();return{promise:new Promise((function(n,i){t.callbackPool.set(e,{resolve:n,reject:i})})),id:e}}},{key:\"resolvePromise\",value:function(t,e){this.dispatch({key:t,actionType:k.Promise,token:\"PROMISE\",payload:JSON.stringify({}),id:e})}},{key:\"callResolver\",value:(r=P(L().mark((function t(e,n,i){var r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.get(e)){t.next=5;break}throw new Error(\"Unregistered Resolver: \".concat(String(e)));case 5:return t.abrupt(\"return\",r.resolve.apply(r,O(i)));case 6:case\"end\":return t.stop()}}),t)}))),function(t,e,n){return r.apply(this,arguments)})},{key:\"execute\",value:(i=P(L().mark((function t(e,n){var i;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve();case 2:for(;e--;)i=this.queue.shift(),this.consume(i,n);case 3:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:\"consume\",value:(n=P(L().mark((function t(e,n){var i,r,o,s;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.actionType,t.next=t.t0===k.Promise||t.t0===k.CALLBACK?3:t.t0===k.CALL?6:13;break;case 3:return(i=this.callbackPool.get(e.id))&&(e.error?i.reject(JSON.parse(e.error)):i.resolve(e.payload?JSON.parse(e.payload):\"\"),this.callbackPool.delete(e.id)),t.abrupt(\"break\",14);case 6:return r=e.payload?JSON.parse(e.payload):[],t.next=9,this.callResolver(e.token,n,r);case 9:return o=t.sent,s={key:e.key,actionType:k.CALLBACK,token:e.token,id:e.id,payload:JSON.stringify(o)},this.dispatch(s),t.abrupt(\"break\",14);case 13:return t.abrupt(\"return\");case 14:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:\"dispatch\",value:(e=P(L().mark((function t(e){var n=this;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.actionType,t.next=t.t0===k.Promise||t.t0===k.CALLBACK?3:t.t0===k.CALL?5:7;break;case 3:return this.sender(JSON.stringify(e)),t.abrupt(\"return\",Promise.resolve({}));case 5:return this.sender(JSON.stringify(e)),t.abrupt(\"return\",new Promise((function(t,i){n.callbackPool.set(e.id,{resolve:t,reject:i})})));case 7:return t.abrupt(\"return\",Promise.resolve({}));case 8:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"on\",value:function(t,e){var n=JSON.parse(t);this.queue.push(n),this.execute(this.queue.length,e)}}],[{key:\"getInstance\",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();q(R,\"instance\",void 0);var B,H,D,W,F=function(){function t(e,n){j(this,t),q(this,\"resolvers\",new Map),q(this,\"key\",void 0),this.key=e,this.registerResolvers(n)}return A(t,[{key:\"createPromise\",value:function(){return t.transceiver.createPromise()}},{key:\"resolvePromise\",value:function(e){return t.transceiver.resolvePromise(this.key,e)}},{key:\"registerResolvers\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){var i;t.resolvers.set(n,new C(n,null!==(i=e[n])&&void 0!==i?i:I))}))}},{key:\"on\",value:function(e){t.transceiver.on(e,this.resolvers)}},{key:\"call\",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.transceiver.dispatch({key:this.key,actionType:k.CALL,token:e,payload:JSON.stringify(i),id:M()})}}],[{key:\"setSender\",value:function(e){t.transceiver.setSender(e)}}]),t}();q(F,\"transceiver\",R.getInstance()),function(t){t.OnTextChange=\"@CALL[OnTextChange]__builtin\",t.OnSelectionChange=\"@CALL[OnSelectionChange]__builtin\",t.UpdateFormat=\"@CALL[UpdateFormat]__builtin\",t.SetReactNativeState=\"@CALL[SetReactNativeState]__builtin\",t.ScrollWebView=\"@CALL[ScrollWebView]__builtin\",t.OnWebViewInit=\"@CALL[onWebViewInit]__builtin\",t.OnEditorReady=\"@CALL[OnEditorReady]__builtin\",t.OnMentionsOpen=\"@CALL[OnMentionsOpen]__builtin\",t.OnMentionsClose=\"@CALL[OnMentionsClose]__builtin\"}(B||(B={})),function(t){t[t.UP=0]=\"UP\",t[t.DOWN=1]=\"DOWN\"}(H||(H={})),function(t){t.AddImage=\"@CALL[AddImage]__builtin\",t.Undo=\"@CALL[Undo]__builtin\",t.Redo=\"@CALL[Redo]__builtin\",t.GetContents=\"@CALL[GetContents]__builtin\",t.GetMarkdown=\"@CALL[GetMarkdown]__builtin\",t.GetLength=\"@CALL[GetLength]__builtin\",t.GetText=\"@CALL[GetText]__builtin\",t.SetContents=\"@CALL[SetContents]__builtin\",t.SetText=\"@CALL[SetText]__builtin\",t.Format=\"@CALL[Format]__builtin\",t.SetSelection=\"@CALL[SetSelection]__builtin\",t.Blur=\"@CALL[Blur]__builtin\",t.Focus=\"@CALL[Focus]__builtin\",t.QuillAPI=\"@CALL[QuillAPI]__builtin\",t.Layout=\"@CALL[Layout]__builtin\"}(D||(D={})),function(t){t.LoadAssets=\"@CALL[LoadAssets]__builtin\"}(W||(W={}));var G=\"$QuillEditorKey\",U=\"$OriginalQuillKey\",Q=\"$Bridge__builtin\",V=\"$WebViewBridgeSDK\";function $(t){return $=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},$(t)}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,Y(i.key),i)}}function J(t,e,n){return(e=Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t){var e=function(t,e){if(\"object\"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==$(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===$(e)?e:String(e)}var z=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n,i;return e=t,i=[{key:\"getInstance\",value:function(){return t.instance||(t.instance=new t),t.instance}}],(n=[{key:\"subscribe\",value:function(e){t.subscriptions.push(e)}},{key:\"publish\",value:function(e){t.subscriptions.forEach((function(t){return t(e)}))}}])&&K(e.prototype,n),i&&K(e,i),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function X(t){return X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},X(t)}function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,ot(i.key),i)}}function tt(){return tt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},tt.apply(this,arguments)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}function nt(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=it(t);if(e){var r=it(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&(\"object\"===X(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,n)}}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function rt(t,e,n){return(e=ot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ot(t){var e=function(t,e){if(\"object\"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==X(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===X(e)?e:String(e)}function st(){var t=window.Quill.import(\"formats/image\"),e=[\"src\",\"crossOrigin\"],n=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&et(t,e)}(s,t);var n,i,r,o=nt(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s),o.apply(this,arguments)}return n=s,r=[{key:\"create\",value:function(t){var e=tt(it(s),\"create\",this).call(this,t.src);return e.setAttribute(\"crossOrigin\",\"Anonymous\"),e.setAttribute(\"src\",t.src),e.onload=function(){s.onload()},e.onclick=function(t){s.onclick(t)},e}},{key:\"value\",value:function(t){return t.getAttribute(\"src\")}},{key:\"formats\",value:function(t){return e.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}}],(i=[{key:\"format\",value:function(t,n){tt(it(s.prototype),\"format\",this).call(this,t,n),e.includes(t)&&(n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t))}}])&&Z(n.prototype,i),r&&Z(n,r),Object.defineProperty(n,\"prototype\",{writable:!1}),s}(t);return rt(n,\"blotName\",\"enhanced-image\"),rt(n,\"tagName\",\"IMG\"),rt(n,\"onload\",(function(){})),rt(n,\"onclick\",(function(){})),n}function at(t){var e=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(t.import(\"blots/block/embed\"));return e.blotName=\"hr\",e.tagName=\"hr\",e}J(z,\"subscriptions\",[]),J(z,\"instance\",void 0);var ut=function(){function t(t,e){var n=this;this.quill=t,this.options=e,this.ignoreTags=[\"PRE\"],this.matches=[{name:\"header\",pattern:/^(#){1,6}\\s/g,action:function(t,e,i){var r=i.exec(t);if(r){var o=r[0].length;setTimeout((function(){n.quill.formatLine(e.index,0,\"header\",o-1),n.quill.deleteText(e.index-o,o)}),0)}}},{name:\"blockquote\",pattern:/^(>)\\s/g,action:function(t,e){setTimeout((function(){n.quill.formatLine(e.index,1,\"blockquote\",!0),n.quill.deleteText(e.index-2,2)}),0)}},{name:\"code-block\",pattern:/^`{3}(?:\\s|\\n)/g,action:function(t,e){setTimeout((function(){n.quill.formatLine(e.index,1,\"code-block\",!0),n.quill.deleteText(e.index-4,4)}),0)}},{name:\"bolditalic\",pattern:/(?:\\*|_){3}(.+?)(?:\\*|_){3}/g,action:function(t,e,i,r){var o=i.exec(t),s=o[0],a=o[1],u=r+o.index;t.match(/^([*_ \\n]+)$/g)||setTimeout((function(){n.quill.deleteText(u,s.length),n.quill.insertText(u,a,{bold:!0,italic:!0}),n.quill.format(\"bold\",!1)}),0)}},{name:\"bold\",pattern:/(?:\\*|_){2}(.+?)(?:\\*|_){2}/g,action:function(t,e,i,r){var o=i.exec(t),s=o[0],a=o[1],u=r+o.index;t.match(/^([*_ \\n]+)$/g)||setTimeout((function(){n.quill.deleteText(u,s.length),n.quill.insertText(u,a,{bold:!0}),n.quill.format(\"bold\",!1)}),0)}},{name:\"italic\",pattern:/(?:\\*|_){1}(.+?)(?:\\*|_){1}/g,action:function(t,e,i,r){var o=i.exec(t),s=o[0],a=o[1],u=r+o.index;t.match(/^([*_ \\n]+)$/g)||setTimeout((function(){n.quill.deleteText(u,s.length),n.quill.insertText(u,a,{italic:!0}),n.quill.format(\"italic\",!1)}),0)}},{name:\"strikethrough\",pattern:/(?:~~)(.+?)(?:~~)/g,action:function(t,e,i,r){var o=i.exec(t),s=o[0],a=o[1],u=r+o.index;t.match(/^([*_ \\n]+)$/g)||setTimeout((function(){n.quill.deleteText(u,s.length),n.quill.insertText(u,a,{strike:!0}),n.quill.format(\"strike\",!1)}),0)}},{name:\"code\",pattern:/(?:`)(.+?)(?:`)/g,action:function(t,e,i,r){var o=i.exec(t),s=o[0],a=o[1],u=r+o.index;t.match(/^([*_ \\n]+)$/g)||setTimeout((function(){n.quill.deleteText(u,s.length),n.quill.insertText(u,a,{code:!0}),n.quill.format(\"code\",!1),n.quill.insertText(n.quill.getSelection().index,\" \")}),0)}},{name:\"hr\",pattern:/^([-*]\\s?){3}/g,action:function(t,e){var i=e.index-t.length;setTimeout((function(){n.quill.deleteText(i,t.length),n.quill.insertEmbed(i+1,\"hr\",!0,\"user\"),n.quill.insertText(i+2,\"\\n\",\"silent\"),n.quill.setSelection(i+2,0,\"silent\")}),0)}},{name:\"asterisk-ul\",pattern:/^(\\*|\\+)\\s$/g,action:function(t,e,i){setTimeout((function(){n.quill.formatLine(e.index,1,\"list\",\"unordered\"),n.quill.deleteText(e.index-2,2)}),0)}},{name:\"image\",pattern:/(?:!\\[(.+?)\\])(?:\\((.+?)\\))/g,action:function(t,e,i){var r=t.search(i),o=t.match(i)[0],s=t.match(/(?:\\((.*?)\\))/g)[0],a=e.index-o.length-1;-1!==r&&setTimeout((function(){n.quill.deleteText(a,o.length),n.quill.insertEmbed(a,\"image\",s.slice(1,s.length-1))}),0)}},{name:\"link\",pattern:/(?:\\[(.+?)\\])(?:\\((.+?)\\))/g,action:function(t,e,i){var r=t.search(i),o=t.match(i)[0],s=t.match(/(?:\\[(.*?)\\])/g)[0],a=t.match(/(?:\\((.*?)\\))/g)[0],u=e.index-o.length-1;-1!==r&&setTimeout((function(){n.quill.deleteText(u,o.length),n.quill.insertText(u,s.slice(1,s.length-1),\"link\",a.slice(1,a.length-1))}),0)}}],this.quill.on(\"text-change\",(function(t,e,i){for(var r=0;r<t.ops.length;r++)t.ops[r].hasOwnProperty(\"insert\")&&(\" \"===t.ops[r].insert?n.onSpace():\"\\n\"===t.ops[r].insert&&n.onEnter())}))}var e=t.prototype;return e.isValid=function(t,e){return void 0!==t&&t&&-1===this.ignoreTags.indexOf(e)},e.onSpace=function(){var t=this.quill.getSelection();if(t){var e=this.quill.getLine(t.index),n=e[0],i=e[1],r=n.domNode.textContent,o=t.index-i;if(this.isValid(r,n.domNode.tagName)){var s=this.matches,a=Array.isArray(s),u=0;for(s=a?s:s[Symbol.iterator]();;){var l;if(a){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var c=l;if(r.match(c.pattern))return void c.action(r,t,c.pattern,o)}}}},e.onEnter=function(){var t=this.quill.getSelection();if(t){var e=this.quill.getLine(t.index),n=e[0],i=e[1],r=n.domNode.textContent+\" \",o=t.index-i;if(t.length=t.index++,this.isValid(r,n.domNode.tagName)){var s=this.matches,a=Array.isArray(s),u=0;for(s=a?s:s[Symbol.iterator]();;){var l;if(a){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var c=l;if(r.match(c.pattern))return void c.action(r,t,c.pattern,o)}}}},t}();function lt(t){return lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},lt(t)}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,dt(i.key),i)}}function ht(t,e,n){return(e=dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t){var e=function(t,e){if(\"object\"!==lt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==lt(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===lt(e)?e:String(e)}var pt=50;function vt(t){var e=window.Quill,n=e.import(\"delta\"),i=st(),r=function(){function t(n){var r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),ht(this,\"scrollOffsetBuffer\",pt),ht(this,\"quill\",void 0),ht(this,\"history\",void 0),ht(this,\"bridge\",void 0),ht(this,\"viewHeight\",0),ht(this,\"previousContentLength\",0),ht(this,\"previousSectionRange\",{index:0,length:0}),ht(this,\"platform\",void 0);var s=n.bridge,a=n.options;this.bridge=s,i.onclick=this.onImageClick.bind(this),i.onload=this.onImageLoaded.bind(this),e.register(i,!0),e.register(\"formats/horizontal\",at(e)),e.register(\"modules/mention\",m),e.register(\"modules/markdownShortcuts\",ut),this.quill=this.mountQuill({placeholder:null==a?void 0:a.placeholder,readOnly:null==a?void 0:a.readOnly,modules:{syntax:null==a?void 0:a.syntax,markdownShortcuts:{},mention:{allowedChars:/^\\w+/,selectKeys:[13],mentionDenotationChars:[\"@\",\"#\"],onClose:function(){o.bridge.call(B.OnMentionsClose)},disableRenderList:!0,source:function(t,e,n){!t||t.includes(\" \")||t.includes(\"\\n\")?e(void 0,t):(o.bridge.call(B.OnMentionsOpen,{searchTerm:t,mentionChar:n}),e([{value:\"\",id:1,disabled:!0}],t))}}},theme:\"snow\"}),this.platform=null==a?void 0:a.platform,this.history=this.quill.getModule(\"history\"),this.scrollOffsetBuffer=null!==(r=null==a?void 0:a.scrollOffsetBuffer)&&void 0!==r?r:pt,this.setEvents(),this.registerResolvers(),this.updateViewHeight()}var r,o,s;return r=t,o=[{key:\"mountQuill\",value:function(t){var n=document.createElement(\"div\");n.id=\"$editor\",window.document.body.append(n);var i=new e(n,t);return window[V][U]=i,i}},{key:\"setEvents\",value:function(){var t=this;this.quill.on(\"editor-change\",(function(){var e=t.quill.getSelection();e&&t.bridge.call(B.UpdateFormat,t.quill.getFormat(e))})),this.quill.on(\"text-change\",(function(e,n,i){t.updateViewHeight(),t.calculateScrollOffsetWhenTextChange(),t.bridge.call(B.OnTextChange,e.ops,n.ops,i)})),this.quill.on(\"selection-change\",(function(e,n,i){t.calculateScrollOffsetWhenSelect(e),t.bridge.call(B.OnSelectionChange,e,n,i)})),this.quill.root.addEventListener(\"compositionstart\",(function(){t.bridge.call(B.SetReactNativeState,\"isInputComposing\",\"true\")})),this.quill.root.addEventListener(\"compositionend\",(function(){t.bridge.call(B.SetReactNativeState,\"isInputComposing\",\"false\")}))}},{key:\"updateViewHeight\",value:function(){var t=this;setTimeout((function(){var e=t.quill.root.getBoundingClientRect();t.viewHeight!==e.height&&t.bridge.call(B.SetReactNativeState,\"webViewHeight\",JSON.stringify(e.height)),t.viewHeight=e.height}))}},{key:\"calculateScrollOffsetWhenTextChange\",value:function(){var t=this,e=this.previousContentLength,n=this.quill.getLength();setTimeout((function(){var i=t.quill.getSelection();if(i){var r=e<=n?H.DOWN:H.UP,o=t.quill.getBounds(i.index,i.length),s=r===H.DOWN?o.bottom+t.scrollOffsetBuffer:o.top-t.scrollOffsetBuffer;-1!==s&&t.bridge.call(B.ScrollWebView,s,r),t.previousContentLength=n}}))}},{key:\"calculateScrollOffsetWhenSelect\",value:function(t){if(t){var e=this.quill.getBounds(t.index,t.length),n=-1,i=H.DOWN;if(t.length)if(this.previousSectionRange&&this.previousSectionRange.length){if(this.previousSectionRange.length){var r=this.quill.getBounds(this.previousSectionRange.index,this.previousSectionRange.length),o=r.bottom===e.bottom,s=r.top===e.top;s||o?o?s||(i=e.top>r.top?H.DOWN:H.UP,n=e.top+this.scrollOffsetBuffer*(i===H.DOWN?1:-1)):(i=e.bottom>r.bottom?H.DOWN:H.UP,n=e.bottom+this.scrollOffsetBuffer*(i===H.DOWN?1:-1)):n=e.bottom+this.scrollOffsetBuffer}}else n=e.bottom+this.scrollOffsetBuffer;else n=e.bottom+this.scrollOffsetBuffer;this.previousSectionRange=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),-1!==n&&this.bridge.call(B.ScrollWebView,n,i)}else this.previousSectionRange=null}},{key:\"onImageClick\",value:function(t){var n=t.target,i=e.find(n),r=this.quill.getIndex(i);this.quill.setSelection(r,1)}},{key:\"onImageLoaded\",value:function(){this.updateViewHeight(),this.calculateScrollOffsetWhenTextChange()}},{key:\"undo\",value:function(){this.history.undo()}},{key:\"redo\",value:function(){this.history.redo()}},{key:\"setSelection\",value:function(t,e,n){this.quill.setSelection(t,e,n)}},{key:\"getContents\",value:function(t,e){return this.quill.getContents(t,e).ops}},{key:\"setContents\",value:function(t,e){return this.quill.setContents(new n(t),e).ops}},{key:\"format\",value:function(t,e,n){var i=this.quill.format(t,e,n).ops;return this.updateViewHeight(),i}},{key:\"addImage\",value:function(t){var n=this,r=this.quill.getSelection(!0).index;t.forEach((function(t){n.quill.insertEmbed(r++,i.blotName,{src:t})})),this.quill.setSelection(r,0,e.sources.USER)}},{key:\"blur\",value:function(){this.quill.blur()}},{key:\"getPlatform\",value:function(){return this.platform}},{key:\"registerResolvers\",value:function(){var t,e=this;this.bridge.registerResolvers((ht(t={},D.AddImage,this.addImage.bind(this)),ht(t,D.Undo,this.undo.bind(this)),ht(t,D.Redo,this.redo.bind(this)),ht(t,D.SetContents,this.setContents.bind(this)),ht(t,D.GetContents,this.getContents.bind(this)),ht(t,D.Format,this.format.bind(this)),ht(t,D.SetSelection,this.setSelection.bind(this)),ht(t,D.Blur,this.blur.bind(this)),ht(t,D.Focus,(function(){e.quill.focus(),e.quill.setSelection(e.quill.getLength(),0)})),ht(t,D.Layout,this.calculateScrollOffsetWhenTextChange.bind(this)),ht(t,D.GetMarkdown,(function(){return(0,y.deltaToMarkdown)(e.quill.getContents().ops)})),t))}}],o&&ft(r.prototype,o),s&&ft(r,s),Object.defineProperty(r,\"prototype\",{writable:!1}),t}(),o=new r(t);return window[V][G]=o,o}function mt(t){return mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},mt(t)}function yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,gt(i.key),i)}}function gt(t){var e=function(t,e){if(\"object\"!==mt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==mt(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===mt(e)?e:String(e)}var bt=function(){function t(){var e,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=this,n=\"bridges\",i=new Map,(n=gt(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}var e,n,i;return e=t,(n=[{key:\"register\",value:function(t,e){this.bridges.set(t,new F(t,e))}},{key:\"get\",value:function(t){return this.bridges.get(t)}},{key:\"on\",value:function(t){var e=JSON.parse(t),n=this.bridges.get(e.key);null==n||n.on(t)}}])&&yt(e.prototype,n),i&&yt(e,i),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function xt(t){return xt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},xt(t)}function wt(t,e,n){return(e=function(t){var e=function(t,e){if(\"object\"!==xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!==xt(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===xt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r=\"function\"==typeof Symbol?Symbol:{},o=r.iterator||\"@@iterator\",s=r.asyncIterator||\"@@asyncIterator\",a=r.toStringTag||\"@@toStringTag\";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new L(r||[]);return i(s,\"_invoke\",{value:w(t,n,a)}),s}function c(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==e&&n.call(y,o)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,o,s,a){var u=c(t[i],t,o);if(\"throw\"!==u.type){var l=u.arg,f=l.value;return f&&\"object\"==xt(f)&&n.call(f,\"__await\")?e.resolve(f.__await).then((function(t){r(\"next\",t,s,a)}),(function(t){r(\"throw\",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r(\"throw\",t,s,a)}))}a(u.arg)}var o;i(this,\"_invoke\",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function w(t,e,n){var i=\"suspendedStart\";return function(r,o){if(\"executing\"===i)throw new Error(\"Generator is already running\");if(\"completed\"===i){if(\"throw\"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===f)continue;return a}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===i)throw i=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);i=\"executing\";var u=c(t,e,n);if(\"normal\"===u.type){if(i=n.done?\"completed\":\"suspendedYield\",u.arg===f)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(i=\"completed\",n.method=\"throw\",n.arg=u.arg)}}}function k(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,\"throw\"===n&&t.iterator.return&&(e.method=\"return\",e.arg=void 0,k(t,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),f;var r=c(i,t.iterator,e.arg);if(\"throw\"===r.type)return e.method=\"throw\",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,f):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,i(g,\"constructor\",{value:p,configurable:!0}),i(p,\"constructor\",{value:d,configurable:!0}),d.displayName=u(p,a,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===d||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,\"GeneratorFunction\")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new x(l(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),u(g,a,\"Generator\"),u(g,o,(function(){return this})),u(g,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type=\"throw\",s.arg=t,e.next=n,i&&(e.method=\"next\",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if(\"root\"===o.tryLoc)return i(\"end\");if(o.tryLoc<=this.prev){var a=n.call(o,\"catchLoc\"),u=n.call(o,\"finallyLoc\");if(a&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,\"finallyLoc\")&&this.prev<r.finallyLoc){var o=r;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if(\"throw\"===i.type){var r=i.arg;S(n)}return r}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),f}},t}function Ct(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}function St(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){Ct(o,i,r,s,a,\"next\",t)}function a(t){Ct(o,i,r,s,a,\"throw\",t)}s(void 0)}))}}var Lt=function(t){return/^((http|https):\\/\\/)/.test(t)},Ot=function(){var t=St(kt().mark((function t(){var e,n=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],(n.length>0&&void 0!==n[0]?n[0]:[]).forEach((function(t){var n=document.createElement(\"script\");n.setAttribute(\"type\",\"text/javascript\"),Lt(t)?(n.setAttribute(\"src\",t),e.push(new Promise((function(t,e){n.onload=function(){return t()},n.onabort=function(){return e()}}))),document.body.append(n)):(n.innerText=t,document.body.append(n),e.push(Promise.resolve()))})),t.abrupt(\"return\",Promise.allSettled(e));case 4:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Et=function(){var t=St(kt().mark((function t(){var e,n=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],(n.length>0&&void 0!==n[0]?n[0]:[]).forEach((function(t){if(Lt(t)){var n=document.createElement(\"link\");n.setAttribute(\"rel\",\"stylesheet\"),n.setAttribute(\"href\",t),e.push(new Promise((function(t,e){n.onload=function(){return t()},n.onabort=function(){return e()}}))),document.body.append(n)}else{var i=document.createElement(\"style\");i.setAttribute(\"type\",\"text/css\"),i.innerText=t,document.body.append(i),e.push(Promise.resolve())}})),t.abrupt(\"return\",Promise.allSettled(e));case 4:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{!function(){window[V]={},F.setSender((function(t){return window.ReactNativeWebView.postMessage(t)}));var t=new bt;window[V].$BridgeRegistryKey=t,t.register(Q);var e=t.get(Q);e.registerResolvers(wt({},W.LoadAssets,(function(t){var e=t.scriptList,n=t.cssList;return Promise.allSettled([Ot(e),Et(n)])}))),e.call(B.OnWebViewInit).then(function(){var t=St(kt().mark((function t(n){var i,r,o,s;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=n.quillOptions)||void 0===i||!i.syntax||null===(r=n.quillOptions)||void 0===r||!r.syntaxAssets){t.next=5;break}return t.next=3,Ot([null===(o=n.quillOptions.syntaxAssets)||void 0===o?void 0:o.script]);case 3:return t.next=5,Et([null===(s=n.quillOptions.syntaxAssets)||void 0===s?void 0:s.css]);case 5:return t.next=7,Ot([n.quillScript]);case 7:return t.next=9,Et(n.cssList);case 9:vt({bridge:e,options:n.quillOptions}),Ot(n.scriptsList),e.call(B.OnEditorReady);case 12:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}()}catch(t){var Tt=document.createElement(\"div\");Tt.innerText=t.message,document.body.append(Tt)}})(),i})()));</script></body><style>* { padding: 0; margin: 0; }</style></html>"